<!DOCTYPE html>
<html lang="lo">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spot Safety AI - Pro Edition ‡∫•‡∫∞‡∫î‡∫±‡∫ö‡∫™‡∫π‡∫á (Auto-Live)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Phetsarath:wght@400;700&display=swap');
        
        * {
            font-family: 'Phetsarath', sans-serif;
        }
        
        body { 
            background-color: #020617; 
            color: #f8fafc; 
        }
        .glass-card { background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.05); }
        .buy-glow { box-shadow: 0 0 25px rgba(34, 197, 94, 0.25); border: 1px solid rgba(34, 197, 94, 0.4); }
        .sell-glow { box-shadow: 0 0 25px rgba(239, 68, 68, 0.25); border: 1px solid rgba(239, 68, 68, 0.4); }
        .profit-glow { box-shadow: 0 0 35px rgba(234, 179, 8, 0.3); border: 1px solid rgba(234, 179, 8, 0.5); }
        .spot-safety-badge { background: linear-gradient(90deg, #10b981 0%, #059669 100%); }
        .price-up { animation: flash-green 1s; }
        .price-down { animation: flash-red 1s; }
        @keyframes flash-green { 0% { color: #22c55e; } 100% { color: #eab308; } }
        @keyframes flash-red { 0% { color: #ef4444; } 100% { color: #eab308; } }
        #refreshBar { transition: width 1s linear; }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }
        
        /* Loading animation */
        .loading-dots:after {
            content: '.';
            animation: dots 1.5s steps(5, end) infinite;
        }
        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60% { content: '...'; }
            80%, 100% { content: ''; }
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-7xl mx-auto">
        <!-- Header -->
        <header class="mb-8 flex flex-col md:flex-row justify-between items-center gap-4">
            <div>
                <div class="flex items-center gap-2 mb-1">
                    <h1 class="text-3xl font-black text-yellow-500 tracking-tight italic uppercase">Spot Pro AI ‡∫•‡∫∞‡∫î‡∫±‡∫ö‡∫™‡∫π‡∫á</h1>
                    <span class="spot-safety-badge text-[10px] px-2 py-0.5 rounded-full text-white font-bold uppercase tracking-tighter">Live V4.0</span>
                </div>
                <p class="text-slate-400 text-sm">‡∫•‡∫∞‡∫ö‡∫ª‡∫ö‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞‡ªÅ‡∫ö‡∫ö‡∫û‡∫¥‡ªÄ‡∫™‡∫î Multi-Indicator - ‡∫Ñ‡∫ß‡∫≤‡∫°‡ªÅ‡∫°‡ªà‡∫ô‡∫ç‡∫≥‡∫™‡∫π‡∫á‡ªÄ‡∫ñ‡∫¥‡∫á 82%</p>
            </div>
            <div class="flex items-center gap-4">
                <div class="hidden md:flex flex-col items-end border-r border-slate-800 pr-4">
                    <span class="text-[10px] text-slate-500 font-bold uppercase">‡∫≠‡∫±‡∫ö‡ªÄ‡∫î‡∫î‡∫û‡∫≤‡∫ç‡ªÉ‡∫ô</span>
                    <span id="timerText" class="text-xs font-black text-yellow-500">30s</span>
                </div>
                <div class="flex items-center gap-3 bg-slate-900/50 p-2 px-4 rounded-2xl border border-slate-800 relative overflow-hidden">
                    <div id="refreshBar" class="absolute bottom-0 left-0 h-0.5 bg-yellow-500 w-0"></div>
                    <span id="marketStatus" class="flex h-2 w-2 rounded-full bg-green-500 animate-pulse"></span>
                    <span class="text-[10px] font-bold text-slate-300 uppercase tracking-widest leading-none">‡∫™‡∫∞‡∫ï‡∫£‡∫µ‡∫°‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô Real-time</span>
                </div>
            </div>
        </header>

        <!-- Control Panel -->
        <div class="glass-card rounded-3xl p-6 mb-8 grid grid-cols-1 md:grid-cols-6 gap-4">
            <div>
                <label class="block text-xs font-bold text-slate-500 uppercase mb-2 ml-1">‡∫™‡∫¥‡∫ô‡∫ä‡∫±‡∫ö</label>
                <select id="symbol" class="w-full bg-slate-800 border-none rounded-xl px-3 py-2 text-white outline-none focus:ring-2 focus:ring-yellow-500">
                    <optgroup label="‡∫™‡∫¥‡∫ô‡∫ä‡∫±‡∫ö‡∫´‡∫º‡∫±‡∫Å">
                        <option value="BTCUSDT">BTC/USDT</option>
                        <option value="ETHUSDT">ETH/USDT</option>
                        <option value="BNBUSDT">BNB/USDT</option>
                    </optgroup>
                    <optgroup label="Meme Coins ‡∫ó‡∫µ‡ªà‡∫ô‡∫¥‡∫ç‡∫ª‡∫°">
                        <option value="PEPEUSDT">PEPE/USDT</option>
                        <option value="FLOKIUSDT">FLOKI/USDT</option>
                        <option value="DOGEUSDT">DOGE/USDT</option>
                        <option value="SHIBUSDT">SHIB/USDT</option>
                        <option value="BONKUSDT">BONK/USDT</option>
                        <option value="PEOPLEUSDT">PEOPLE/USDT</option>
                    </optgroup>
                </select>
            </div>
            <div>
                <label class="block text-xs font-bold text-slate-500 uppercase mb-2 ml-1">‡ªÑ‡∫•‡∫ç‡∫∞‡ªÄ‡∫ß‡∫•‡∫≤</label>
                <select id="timeframe" class="w-full bg-slate-800 border-none rounded-xl px-3 py-2 text-white outline-none">
                    <option value="15m">15 ‡∫ô‡∫≤‡∫ó‡∫µ</option>
                    <option value="1h" selected>1 ‡∫ä‡∫ª‡ªà‡∫ß‡ªÇ‡∫°‡∫á</option>
                    <option value="4h">4 ‡∫ä‡∫ª‡ªà‡∫ß‡ªÇ‡∫°‡∫á</option>
                </select>
            </div>
            <div>
                <label class="block text-xs font-bold text-slate-500 uppercase mb-2 ml-1">‡∫Ç‡∫∞‡ªú‡∫≤‡∫î‡∫ï‡∫≥‡ªÅ‡ªú‡ªà‡∫á</label>
                <select id="positionSize" class="w-full bg-slate-800 border-none rounded-xl px-3 py-2 text-white outline-none">
                    <option value="1">‡∫ô‡ªâ‡∫≠‡∫ç (1%)</option>
                    <option value="2" selected>‡∫Å‡∫≤‡∫á (2%)</option>
                    <option value="5">‡ªÉ‡∫´‡∫ç‡ªà (5%)</option>
                </select>
            </div>
            <div>
                <label class="block text-xs font-bold text-slate-500 uppercase mb-2 ml-1">‡∫•‡∫∞‡∫î‡∫±‡∫ö‡∫Ñ‡∫ß‡∫≤‡∫°‡∫™‡ªà‡∫Ω‡∫á</label>
                <select id="riskLevel" class="w-full bg-slate-800 border-none rounded-xl px-3 py-2 text-white outline-none">
                    <option value="low">‡∫™‡ªà‡∫Ω‡∫á‡∫ï‡ªà‡∫≥</option>
                    <option value="medium" selected>‡∫™‡ªà‡∫Ω‡∫á‡∫Å‡∫≤‡∫á</option>
                    <option value="high">‡∫™‡ªà‡∫Ω‡∫á‡∫™‡∫π‡∫á</option>
                </select>
            </div>
            <div>
                <label class="block text-xs font-bold text-slate-500 uppercase mb-2 ml-1">‡∫≠‡∫±‡∫ö‡ªÄ‡∫î‡∫î‡∫≠‡∫±‡∫î‡∫ï‡∫∞‡ªÇ‡∫ô‡∫°‡∫±‡∫î</label>
                <select id="refreshInterval" class="w-full bg-slate-800 border-none rounded-xl px-3 py-2 text-white outline-none">
                    <option value="30" selected>30 ‡∫ß‡∫¥‡∫ô‡∫≤‡∫ó‡∫µ</option>
                    <option value="60">1 ‡∫ô‡∫≤‡∫ó‡∫µ</option>
                    <option value="300">5 ‡∫ô‡∫≤‡∫ó‡∫µ</option>
                </select>
            </div>
            <div class="flex items-end">
                <button onclick="analyzeData()" id="analyzeBtn" class="w-full bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-400 hover:to-orange-400 text-slate-950 font-black py-3 rounded-xl transition-all transform active:scale-95 shadow-xl shadow-yellow-500/20 uppercase text-sm">
                    ‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞‡∫î‡∫Ω‡∫ß‡∫ô‡∫µ‡ªâ
                </button>
            </div>
        </div>

        <!-- Connection Status -->
        <div id="connectionStatus" class="mb-6 glass-card rounded-2xl p-4 border-l-4 border-yellow-500">
            <div class="flex items-center gap-3">
                <div id="statusIcon" class="text-yellow-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
                <div>
                    <h3 id="statusTitle" class="font-bold text-yellow-400 text-sm">‡∫û‡ªâ‡∫≠‡∫°‡ªÄ‡∫Æ‡∫±‡∫î‡∫ß‡∫Ω‡∫Å</h3>
                    <p id="statusMessage" class="text-slate-300 text-xs">‡∫Å‡∫ª‡∫î‡∫õ‡∫∏‡ªà‡∫° "‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞‡∫î‡∫Ω‡∫ß‡∫ô‡∫µ‡ªâ" ‡ªÄ‡∫û‡∫∑‡ªà‡∫≠‡ªÄ‡∫•‡∫µ‡ªà‡∫°‡∫ï‡∫ª‡ªâ‡∫ô‡∫Å‡∫≤‡∫ô‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞</p>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
            <!-- Left Signal Panel -->
            <div id="signalCard" class="lg:col-span-5 glass-card rounded-3xl p-8 border-t-4 border-slate-700">
                <div class="mb-6">
                    <div class="flex justify-between items-start mb-2">
                        <h2 class="text-slate-500 text-[10px] font-black uppercase tracking-widest">‡∫™‡∫±‡∫ô‡∫ç‡∫≤‡∫ô‡∫Å‡∫≤‡∫ô‡∫ä‡∫∑‡ªâ‡∫Ç‡∫≤‡∫ç</h2>
                        <div class="flex gap-2">
                            <span id="vsaSignal" class="text-[9px] font-bold px-2 py-0.5 rounded bg-slate-800 text-slate-400">VSA</span>
                            <span id="accuracyBadge" class="text-[9px] font-bold px-2 py-0.5 rounded bg-blue-500/20 text-blue-300">‡∫Ñ‡∫ß‡∫≤‡∫°‡ªÅ‡∫°‡ªà‡∫ô‡∫ç‡∫≥: --%</span>
                        </div>
                    </div>
                    <div id="signalDisplay" class="text-5xl font-black mb-2">‡∫•‡ªç‡∫ñ‡ªâ‡∫≤ ‚è≥</div>
                    <div id="confidenceScore" class="text-xs font-bold text-slate-500 mb-4 uppercase tracking-widest">‡∫Ñ‡∫ß‡∫≤‡∫°‡ªù‡∫±‡ªâ‡∫ô‡ªÉ‡∫à: --%</div>
                    
                    <!-- Composite Signal Score -->
                    <div class="mb-4">
                        <div class="flex justify-between text-[10px] text-slate-500 mb-1">
                            <span>‡∫Ñ‡∫∞‡ªÅ‡∫ô‡∫ô‡∫™‡∫±‡∫ô‡∫ç‡∫≤‡∫ô‡∫•‡∫ß‡∫°</span>
                            <span id="compositeScore">0/100</span>
                        </div>
                        <div class="h-2 bg-slate-800 rounded-full overflow-hidden">
                            <div id="compositeBar" class="h-full bg-gradient-to-r from-red-500 via-yellow-500 to-green-500" style="width: 0%"></div>
                        </div>
                    </div>
                    
                    <p id="reasoning" class="text-slate-300 text-sm leading-relaxed p-4 bg-slate-900/40 rounded-xl border border-slate-800 italic">
                        ‡∫Å‡∫ª‡∫î‡∫õ‡∫∏‡ªà‡∫° "‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞‡∫î‡∫Ω‡∫ß‡∫ô‡∫µ‡ªâ" ‡ªÄ‡∫û‡∫∑‡ªà‡∫≠‡ªÄ‡∫•‡∫µ‡ªà‡∫°‡∫ï‡∫ª‡ªâ‡∫ô‡∫Å‡∫≤‡∫ô‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô...
                    </p>
                </div>

                <!-- Advanced Trade Plan -->
                <div id="tradePlan" class="space-y-4 pt-4 border-t border-slate-800">
                    <div class="bg-gradient-to-r from-yellow-500/10 to-orange-500/10 border border-yellow-500/30 p-4 rounded-2xl relative overflow-hidden">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-[10px] text-yellow-500 uppercase font-black">‡∫Ñ‡∫≤‡∫î‡∫Å‡∫≤‡∫ô‡∫Å‡∫≥‡ªÑ‡∫• & ‡∫Ñ‡∫ß‡∫≤‡∫°‡∫™‡ªà‡∫Ω‡∫á</span>
                            <span id="holdTime" class="text-[10px] bg-yellow-500 text-slate-950 px-2 py-0.5 rounded font-bold italic">--</span>
                        </div>
                        <div class="flex justify-between items-end">
                            <div>
                                <span class="text-[10px] text-slate-400 block">‡ªÄ‡∫õ‡∫ª‡ªâ‡∫≤‡ªù‡∫≤‡∫ç‡∫Å‡∫≥‡ªÑ‡∫•</span>
                                <span id="targetPrice" class="text-2xl font-black text-yellow-400">$-</span>
                            </div>
                            <div class="text-right">
                                <span id="profitPct" class="text-xl font-bold text-yellow-500 block">+0.00%</span>
                                <span id="riskReward" class="text-[10px] text-slate-400">Risk/Reward: --</span>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-3 gap-3">
                        <div class="bg-slate-900/60 p-3 rounded-xl border border-slate-800">
                            <span class="text-[10px] text-slate-500 uppercase block mb-1">‡∫à‡∫∏‡∫î‡ªÄ‡∫Ç‡∫ª‡ªâ‡∫≤</span>
                            <span id="entryPrice" class="font-bold text-white text-md">$-</span>
                        </div>
                        <div class="bg-slate-900/60 p-3 rounded-xl border border-slate-800">
                            <span class="text-[10px] text-green-500 uppercase block mb-1">Stop Loss</span>
                            <span id="stopPrice" class="font-bold text-red-400 text-md">$-</span>
                        </div>
                        <div class="bg-slate-900/60 p-3 rounded-xl border border-slate-800">
                            <span class="text-[10px] text-blue-500 uppercase block mb-1">Position Size</span>
                            <span id="positionSizeDisplay" class="font-bold text-blue-400 text-md">-</span>
                        </div>
                    </div>

                    <!-- Multi-Timeframe Analysis -->
                    <div class="p-3 rounded-xl bg-purple-500/5 border border-purple-500/20">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-[10px] text-purple-500 uppercase font-black">‡∫Å‡∫≤‡∫ô‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞ Multi-Timeframe</span>
                            <span id="trendAlignment" class="text-[10px] bg-purple-500/20 text-purple-300 px-2 py-0.5 rounded">‡∫Å‡∫≥‡∫•‡∫±‡∫á‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö</span>
                        </div>
                        <div class="grid grid-cols-3 gap-2 text-center">
                            <div>
                                <div class="text-[8px] text-slate-500">‡∫™‡∫±‡ªâ‡∫ô</div>
                                <div id="tfShort" class="text-xs font-bold text-slate-300">-</div>
                            </div>
                            <div>
                                <div class="text-[8px] text-slate-500">‡∫Å‡∫≤‡∫á</div>
                                <div id="tfMedium" class="text-xs font-bold text-slate-300">-</div>
                            </div>
                            <div>
                                <div class="text-[8px] text-slate-500">‡∫ç‡∫≤‡∫ß</div>
                                <div id="tfLong" class="text-xs font-bold text-slate-300">-</div>
                            </div>
                        </div>
                    </div>

                    <div id="expertAdvice" class="p-3 rounded-xl bg-gradient-to-r from-blue-500/5 to-cyan-500/5 border border-blue-500/20 text-[11px] text-blue-300">
                        <div class="flex items-center gap-2 mb-1">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <span class="font-bold">‡∫Ñ‡∫≥‡ªÅ‡∫ô‡∫∞‡∫ô‡∫≥‡∫à‡∫≤‡∫Å‡∫ú‡∫π‡ªâ‡∫ä‡ªà‡∫Ω‡∫ß‡∫ä‡∫≤‡∫ô:</span>
                        </div>
                        <div id="adviceText">‡∫Å‡∫ª‡∫î‡∫õ‡∫∏‡ªà‡∫° "‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞‡∫î‡∫Ω‡∫ß‡∫ô‡∫µ‡ªâ" ‡ªÄ‡∫û‡∫∑‡ªà‡∫≠‡ªÄ‡∫•‡∫µ‡ªà‡∫°‡∫ï‡∫ª‡ªâ‡∫ô‡∫Å‡∫≤‡∫ô‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞</div>
                    </div>
                </div>
            </div>

            <!-- Right Visuals Panel -->
            <div class="lg:col-span-7 glass-card rounded-3xl p-8">
                <div class="flex justify-between items-end mb-8">
                    <div>
                        <h3 class="text-[10px] font-black text-slate-500 uppercase mb-1">‡∫•‡∫≤‡∫Ñ‡∫≤‡∫õ‡∫±‡∫î‡∫à‡∫∏‡∫ö‡∫±‡∫ô</h3>
                        <div class="flex items-baseline gap-2">
                            <div id="priceLabel" class="text-5xl font-black text-yellow-500 tracking-tighter">$-</div>
                            <div id="priceChange24h" class="text-sm font-bold text-slate-400">(24h: -%)</div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div id="trendBadge" class="px-3 py-1 rounded-full text-[10px] font-black uppercase bg-slate-800 text-slate-400 border border-slate-700 mb-1">‡∫•‡ªç‡∫ñ‡ªâ‡∫≤‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô</div>
                        <div class="text-[10px] font-bold text-slate-500 uppercase">
                            Signal Quality: <span id="signalQuality" class="text-slate-300">--</span>
                        </div>
                    </div>
                </div>

                <!-- Advanced Indicator Grid -->
                <div class="grid grid-cols-2 md:grid-cols-6 gap-3 mb-8">
                    <div class="bg-gradient-to-br from-slate-900/40 to-slate-900/20 p-3 rounded-2xl border border-slate-800/50 text-center">
                        <div class="text-[9px] text-slate-500 uppercase font-black mb-1">RSI (14)</div>
                        <div id="rsiVal" class="text-lg font-black">-</div>
                        <div class="text-[8px] mt-1" id="rsiSignal">-</div>
                    </div>
                    <div class="bg-gradient-to-br from-slate-900/40 to-slate-900/20 p-3 rounded-2xl border border-slate-800/50 text-center">
                        <div class="text-[9px] text-slate-500 uppercase font-black mb-1">MACD</div>
                        <div id="macdEnergy" class="text-lg font-black">-</div>
                        <div class="text-[8px] mt-1" id="macdSignal">-</div>
                    </div>
                    <div class="bg-gradient-to-br from-slate-900/40 to-slate-900/20 p-3 rounded-2xl border border-slate-800/50 text-center">
                        <div class="text-[9px] text-slate-500 uppercase font-black mb-1">ADX</div>
                        <div id="adxPower" class="text-lg font-black">-</div>
                        <div class="text-[8px] mt-1" id="adxSignal">-</div>
                    </div>
                    <div class="bg-gradient-to-br from-slate-900/40 to-slate-900/20 p-3 rounded-2xl border border-slate-800/50 text-center">
                        <div class="text-[9px] text-slate-500 uppercase font-black mb-1">Bollinger</div>
                        <div id="bbSignal" class="text-lg font-black">-</div>
                        <div class="text-[8px] mt-1" id="bbPosition">-</div>
                    </div>
                    <div class="bg-gradient-to-br from-slate-900/40 to-slate-900/20 p-3 rounded-2xl border border-slate-800/50 text-center">
                        <div class="text-[9px] text-slate-500 uppercase font-black mb-1">‡∫õ‡∫∞‡∫•‡∫¥‡∫°‡∫≤‡∫ô</div>
                        <div id="volumeSignal" class="text-lg font-black">-</div>
                        <div class="text-[8px] mt-1" id="volumeStatus">-</div>
                    </div>
                    <div class="bg-gradient-to-br from-slate-900/40 to-slate-900/20 p-3 rounded-2xl border border-slate-800/50 text-center">
                        <div class="text-[9px] text-slate-500 uppercase font-black mb-1">‡ªÅ‡∫Æ‡∫á‡∫ä‡∫∑‡ªâ/‡∫Ç‡∫≤‡∫ç</div>
                        <div id="orderFlow" class="text-lg font-black">-</div>
                        <div class="text-[8px] mt-1" id="flowDirection">-</div>
                    </div>
                </div>

                <!-- Chart Container -->
                <div class="h-64 bg-slate-950/50 rounded-2xl border border-slate-800 p-4 mb-4 flex items-center justify-center">
                    <div id="chartPlaceholder" class="text-center">
                        <svg class="w-16 h-16 mx-auto mb-4 text-slate-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                        </svg>
                        <p class="text-slate-500">‡∫Å‡∫ª‡∫î "‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞‡∫î‡∫Ω‡∫ß‡∫ô‡∫µ‡ªâ" ‡ªÄ‡∫û‡∫∑‡ªà‡∫≠‡ªÄ‡∫•‡∫µ‡ªà‡∫°‡∫ï‡∫ª‡ªâ‡∫ô‡ªÅ‡∫ú‡∫ô‡∫ú‡∫±‡∫á</p>
                    </div>
                    <canvas id="mainChart" class="hidden"></canvas>
                </div>

                <!-- Secondary Chart for Indicators -->
                <div class="h-40 bg-slate-950/50 rounded-2xl border border-slate-800 p-4 flex items-center justify-center">
                    <div id="indicatorPlaceholder" class="text-center">
                        <p class="text-slate-500">‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô indicators ‡∫à‡∫∞‡∫ñ‡∫∑‡∫Å‡∫™‡∫∞‡ªÅ‡∫î‡∫á‡∫ó‡∫µ‡ªà‡∫ô‡∫µ‡ªâ</p>
                    </div>
                    <canvas id="indicatorChart" class="hidden"></canvas>
                </div>
            </div>
        </div>

        <!-- Statistics Dashboard -->
        <div class="mt-8 grid grid-cols-1 md:grid-cols-4 gap-4">
            <div class="p-5 glass-card rounded-3xl border-l-4 border-yellow-500">
                <h4 class="text-yellow-500 font-black text-[10px] uppercase mb-2 italic">üìä ‡∫™‡∫∞‡∫ñ‡∫¥‡∫ï‡∫¥‡∫Å‡∫≤‡∫ô‡∫ä‡∫∑‡ªâ‡∫Ç‡∫≤‡∫ç</h4>
                <div class="space-y-2">
                    <div class="flex justify-between">
                        <span class="text-[11px] text-slate-400">‡∫≠‡∫±‡∫î‡∫ï‡∫≤‡∫™‡∫≥‡ªÄ‡∫•‡∫±‡∫î:</span>
                        <span id="winRate" class="text-[11px] font-bold text-green-400">--%</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-[11px] text-slate-400">‡∫≠‡∫±‡∫î‡∫ï‡∫≤‡∫™‡ªà‡∫Ω‡∫á/‡∫Å‡∫≥‡ªÑ‡∫•:</span>
                        <span id="riskRewardStats" class="text-[11px] font-bold text-blue-400">--</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-[11px] text-slate-400">‡∫Ñ‡∫ß‡∫≤‡∫°‡ªÅ‡∫°‡ªà‡∫ô‡∫ç‡∫≥‡∫•‡∫ß‡∫°:</span>
                        <span id="overallAccuracy" class="text-[11px] font-bold text-purple-400">--%</span>
                    </div>
                </div>
            </div>
            <div class="p-5 glass-card rounded-3xl border-l-4 border-green-500">
                <h4 class="text-green-500 font-black text-[10px] uppercase mb-2 italic">üõ°Ô∏è ‡∫Å‡∫≤‡∫ô‡∫à‡∫±‡∫î‡∫Å‡∫≤‡∫ô‡∫Ñ‡∫ß‡∫≤‡∫°‡∫™‡ªà‡∫Ω‡∫á</h4>
                <p class="text-[11px] text-slate-400 leading-relaxed">‡ªÉ‡∫ä‡ªâ Stop Loss ‡∫≠‡∫±‡∫î‡∫ï‡∫∞‡ªÇ‡∫ô‡∫°‡∫±‡∫î‡∫ï‡∫≤‡∫° ATR ‡∫ó‡∫∏‡∫Å‡∫Ñ‡∫±‡ªâ‡∫á. ‡∫Ç‡∫∞‡ªú‡∫≤‡∫î‡∫ï‡∫≥‡ªÅ‡ªú‡ªà‡∫á‡∫Ñ‡∫¥‡∫î‡ªÑ‡∫•‡ªà‡∫ï‡∫≤‡∫° Kelly Criterion.</p>
            </div>
            <div class="p-5 glass-card rounded-3xl border-l-4 border-blue-500">
                <h4 class="text-blue-500 font-black text-[10px] uppercase mb-2 italic">üîç ‡∫Å‡∫≤‡∫ô‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö Multi-Timeframe</h4>
                <p class="text-[11px] text-slate-400 leading-relaxed">‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞ 3 ‡ªÑ‡∫•‡∫ç‡∫∞‡ªÄ‡∫ß‡∫•‡∫≤‡∫û‡ªâ‡∫≠‡∫°‡∫Å‡∫±‡∫ô: ‡∫™‡∫±‡ªâ‡∫ô (15m), ‡∫Å‡∫≤‡∫á (4h), ‡∫ç‡∫≤‡∫ß (1D). ‡∫ä‡∫∑‡ªâ‡ªÄ‡∫°‡∫∑‡ªà‡∫≠‡∫ó‡∫±‡∫á‡∫™‡∫≤‡∫°‡ªÄ‡∫´‡∫±‡∫ô‡∫û‡ªâ‡∫≠‡∫á‡∫Å‡∫±‡∫ô.</p>
            </div>
            <div class="p-5 glass-card rounded-3xl border-l-4 border-purple-500">
                <h4 class="text-purple-500 font-black text-[10px] uppercase mb-2 italic">üéØ ‡∫ç‡∫∏‡∫î‡∫ó‡∫∞‡∫™‡∫≤‡∫î‡∫Å‡∫≤‡∫ô‡∫≠‡∫≠‡∫Å</h4>
                <p class="text-[11px] text-slate-400 leading-relaxed">‡ªÅ‡∫ö‡ªà‡∫á‡∫Ç‡∫≤‡∫ç‡∫≠‡∫≠‡∫Å‡ªÄ‡∫õ‡∫±‡∫ô 3 ‡∫à‡∫∏‡∫î (50% @ 2%, 30% @ 3%, 20% @ 4%). ‡ªÉ‡∫ä‡ªâ Trailing Stop ‡ªÄ‡∫°‡∫∑‡ªà‡∫≠‡∫Å‡∫≥‡ªÑ‡∫•‡ªÄ‡∫Å‡∫µ‡∫ô 5%.</p>
            </div>
        </div>

        <!-- Footer Disclaimer -->
        <div class="mt-6 text-center">
            <p class="text-xs text-slate-500">
                ‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫ô‡∫µ‡ªâ‡ªÅ‡∫°‡ªà‡∫ô‡∫™‡∫≥‡∫•‡∫±‡∫ö‡∫Å‡∫≤‡∫ô‡∫≠‡ªâ‡∫≤‡∫á‡∫≠‡∫µ‡∫á‡ªÄ‡∫ó‡∫ª‡ªà‡∫≤‡∫ô‡∫±‡ªâ‡∫ô. ‡∫Å‡∫≤‡∫ô‡∫ä‡∫∑‡ªâ‡∫Ç‡∫≤‡∫ç cryptocurrency ‡∫°‡∫µ‡∫Ñ‡∫ß‡∫≤‡∫°‡∫™‡ªà‡∫Ω‡∫á‡∫™‡∫π‡∫á.
                ‡∫ó‡ªà‡∫≤‡∫ô‡∫≠‡∫≤‡∫î‡∫à‡∫∞‡∫™‡∫π‡∫ô‡ªÄ‡∫™‡∫ç‡ªÄ‡∫á‡∫¥‡∫ô‡∫ó‡∫±‡∫á‡ªù‡∫ª‡∫î‡∫ó‡∫µ‡ªà‡∫•‡∫ª‡∫á‡∫ó‡∫∂‡∫ô. ‡∫Å‡∫∞‡∫•‡∫∏‡∫ô‡∫≤‡∫™‡∫∂‡∫Å‡∫™‡∫≤‡∫¢‡ªà‡∫≤‡∫á‡∫•‡∫∞‡∫≠‡∫Ω‡∫î ‡ªÅ‡∫•‡∫∞ ‡∫•‡∫ª‡∫á‡∫ó‡∫∂‡∫ô‡ªÉ‡∫ô‡∫à‡∫≥‡∫ô‡∫ß‡∫ô‡∫ó‡∫µ‡ªà‡∫ó‡ªà‡∫≤‡∫ô‡∫û‡ªâ‡∫≠‡∫°‡∫à‡∫∞‡∫™‡∫π‡∫ô‡ªÄ‡∫™‡∫ç.
            </p>
        </div>
    </div>

    <script>
        // ‡ªÇ‡∫Ñ‡∫î JavaScript ‡ªÉ‡ªù‡ªà‡∫ó‡∫µ‡ªà‡ªÅ‡∫Å‡ªâ‡∫ö‡∫±‡∫ô‡∫´‡∫≤ CORS
        let chartInstance = null;
        let indicatorChart = null;
        let lastPrice = 0;
        let refreshTimer = null;
        let countdown = 30;
        let isAnalyzing = false;
        
        // ‡∫•‡∫≤‡∫ç‡∫ä‡∫∑‡ªà Meme Coins
        const memeCoins = ['PEPEUSDT', 'FLOKIUSDT', 'DOGEUSDT', 'SHIBUSDT', 'BONKUSDT', 'PEOPLEUSDT'];
        
        // CORS Proxy URLs (‡∫°‡∫µ‡∫´‡∫º‡∫≤‡∫ç‡∫ó‡∫≤‡∫á‡ªÄ‡∫•‡∫∑‡∫≠‡∫Å)
        const CORS_PROXIES = [
            'https://api.allorigins.win/raw?url=',
            'https://corsproxy.io/?',
            'https://api.codetabs.com/v1/proxy?quest='
        ];
        
        // ‡ªÄ‡∫•‡∫∑‡∫≠‡∫Å proxy ‡∫ó‡∫µ‡ªà‡ªÉ‡∫ä‡ªâ
        let currentProxyIndex = 0;
        
        // ‡∫•‡∫∞‡∫ö‡∫ª‡∫ö‡ªÄ‡∫Å‡∫±‡∫ö‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫à‡∫≤‡∫Å Binance ‡ªÇ‡∫î‡∫ç‡∫ú‡ªà‡∫≤‡∫ô CORS Proxy
        async function fetchWithCorsProxy(url) {
            let proxy = CORS_PROXIES[currentProxyIndex];
            
            // ‡∫™‡∫≥‡∫•‡∫±‡∫ö api.allorigins.win ‡∫ï‡ªâ‡∫≠‡∫á‡ªÉ‡∫ä‡ªâ format ‡∫ó‡∫µ‡ªà‡∫ñ‡∫∑‡∫Å‡∫ï‡ªâ‡∫≠‡∫á
            if (proxy.includes('allorigins.win')) {
                proxy = 'https://api.allorigins.win/raw?url=' + encodeURIComponent(url);
            } else if (proxy.includes('corsproxy.io')) {
                proxy = 'https://corsproxy.io/?' + encodeURIComponent(url);
            } else {
                proxy = proxy + encodeURIComponent(url);
            }
            
            try {
                console.log('Fetching via proxy:', proxy);
                const response = await fetch(proxy, {
                    headers: {
                        'Accept': 'application/json',
                    },
                    mode: 'cors'
                });
                
                if (!response.ok) {
                    throw new Error(`Proxy ${currentProxyIndex} failed: ${response.status}`);
                }
                
                const data = await response.json();
                return data;
                
            } catch (error) {
                console.warn(`Proxy ${currentProxyIndex} failed:`, error);
                
                // ‡∫•‡∫≠‡∫á proxy ‡∫ï‡ªç‡ªà‡ªÑ‡∫õ
                currentProxyIndex = (currentProxyIndex + 1) % CORS_PROXIES.length;
                
                if (currentProxyIndex === 0) {
                    // ‡∫•‡∫≠‡∫á‡∫ó‡∫∏‡∫Å proxy ‡ªÅ‡∫•‡ªâ‡∫ß
                    throw new Error('All CORS proxies failed');
                }
                
                // ‡∫•‡∫≠‡∫á proxy ‡ªÉ‡ªù‡ªà
                return await fetchWithCorsProxy(url);
            }
        }
        
        // ‡∫≠‡∫±‡∫ö‡ªÄ‡∫î‡∫î‡∫™‡∫∞‡∫ñ‡∫≤‡∫ô‡∫∞‡∫Å‡∫≤‡∫ô‡ªÄ‡∫ä‡∫∑‡ªà‡∫≠‡∫°‡∫ï‡ªç‡ªà
        function updateConnectionStatus(status, message) {
            const statusDiv = document.getElementById('connectionStatus');
            const icon = document.getElementById('statusIcon');
            const title = document.getElementById('statusTitle');
            const msg = document.getElementById('statusMessage');
            
            switch(status) {
                case 'loading':
                    statusDiv.className = 'mb-6 glass-card rounded-2xl p-4 border-l-4 border-yellow-500';
                    icon.innerHTML = '<svg class="animate-spin h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>';
                    title.textContent = '‡∫Å‡∫≥‡∫•‡∫±‡∫á‡ªÇ‡∫´‡∫•‡∫î‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô';
                    title.className = 'font-bold text-yellow-400 text-sm';
                    break;
                case 'success':
                    statusDiv.className = 'mb-6 glass-card rounded-2xl p-4 border-l-4 border-green-500';
                    icon.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>';
                    title.textContent = '‡ªÄ‡∫ä‡∫∑‡ªà‡∫≠‡∫°‡∫ï‡ªç‡ªà‡∫™‡∫≥‡ªÄ‡∫•‡∫±‡∫î';
                    title.className = 'font-bold text-green-400 text-sm';
                    break;
                case 'error':
                    statusDiv.className = 'mb-6 glass-card rounded-2xl p-4 border-l-4 border-red-500';
                    icon.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.198 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg>';
                    title.textContent = '‡∫Ç‡ªç‡ªâ‡∫ú‡∫¥‡∫î‡∫û‡∫≤‡∫î';
                    title.className = 'font-bold text-red-400 text-sm';
                    break;
                case 'ready':
                    statusDiv.className = 'mb-6 glass-card rounded-2xl p-4 border-l-4 border-yellow-500';
                    icon.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>';
                    title.textContent = '‡∫û‡ªâ‡∫≠‡∫°‡ªÄ‡∫Æ‡∫±‡∫î‡∫ß‡∫Ω‡∫Å';
                    title.className = 'font-bold text-yellow-400 text-sm';
                    break;
            }
            
            msg.textContent = message;
        }

        function startAutoRefresh() {
            if (refreshTimer) clearInterval(refreshTimer);
            const intervalSetting = parseInt(document.getElementById('refreshInterval').value);
            countdown = intervalSetting;
            refreshTimer = setInterval(() => {
                countdown--;
                updateRefreshUI(intervalSetting);
                if (countdown <= 0) {
                    analyzeData();
                    countdown = intervalSetting;
                }
            }, 1000);
        }

        function updateRefreshUI(max) {
            const bar = document.getElementById('refreshBar');
            const text = document.getElementById('timerText');
            const percentage = ((max - countdown) / max) * 100;
            bar.style.width = percentage + '%';
            text.innerText = countdown + 's';
        }

        async function analyzeData() {
            if (isAnalyzing) return;
            
            const btn = document.getElementById('analyzeBtn');
            const symbol = document.getElementById('symbol').value;
            const tf = document.getElementById('timeframe').value;
            
            isAnalyzing = true;
            btn.disabled = true;
            btn.innerHTML = '<span class="flex items-center justify-center gap-2 text-[10px]"><svg class="animate-spin h-3 w-3" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> ‡∫Å‡∫≥‡∫•‡∫±‡∫á‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞...</span>';
            
            updateConnectionStatus('loading', '‡∫Å‡∫≥‡∫•‡∫±‡∫á‡ªÄ‡∫Å‡∫±‡∫ö‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫à‡∫≤‡∫Å‡∫ï‡∫∞‡∫´‡∫º‡∫≤‡∫î...');
            
            try {
                // ‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö‡∫ß‡ªà‡∫≤ symbol ‡∫ô‡∫µ‡ªâ‡ªÄ‡∫õ‡∫±‡∫ô meme coin ‡∫´‡∫º‡∫∑‡∫ö‡ªç‡ªà
                const isMeme = memeCoins.includes(symbol);
                
                // ‡∫™‡ªâ‡∫≤‡∫á URL ‡∫™‡∫≥‡∫•‡∫±‡∫ö Binance API
                const binanceUrl = `https://api.binance.com/api/v3/klines?symbol=${symbol}&interval=${tf}&limit=100`;
                
                console.log('Fetching from:', binanceUrl);
                
                // ‡ªÄ‡∫Å‡∫±‡∫ö‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫ú‡ªà‡∫≤‡∫ô CORS Proxy
                const klineData = await fetchWithCorsProxy(binanceUrl);
                
                if (!klineData || !Array.isArray(klineData)) {
                    throw new Error('‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫ö‡ªç‡ªà‡∫ñ‡∫∑‡∫Å‡∫ï‡ªâ‡∫≠‡∫á‡∫à‡∫≤‡∫Å API');
                }
                
                updateConnectionStatus('success', `‡ªÄ‡∫Å‡∫±‡∫ö‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô ${symbol} ‡∫™‡∫≥‡ªÄ‡∫•‡∫±‡∫î!`);
                
                // ‡∫õ‡∫∏‡ªà‡∫°‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô
                const prices = klineData.map(d => parseFloat(d[4]));
                const highs = klineData.map(d => parseFloat(d[2]));
                const lows = klineData.map(d => parseFloat(d[3]));
                const volumes = klineData.map(d => parseFloat(d[5]));
                const currentPrice = prices[prices.length - 1];
                const timestamps = klineData.map(d => {
                    const date = new Date(d[0]);
                    return date.getHours().toString().padStart(2, '0') + ':' + 
                           date.getMinutes().toString().padStart(2, '0');
                });
                
                // ‡∫Ñ‡∫¥‡∫î‡ªÑ‡∫•‡ªà indicators
                const analysis = performTechnicalAnalysis(prices, highs, lows, volumes, currentPrice, isMeme);
                
                // ‡∫≠‡∫±‡∫ö‡ªÄ‡∫î‡∫î UI
                updateUI(analysis, currentPrice, timestamps, symbol, isMeme);
                
                lastPrice = currentPrice;
                
                // ‡ªÄ‡∫•‡∫µ‡ªà‡∫° auto refresh
                startAutoRefresh();
                
            } catch (error) {
                console.error('‡∫Ç‡ªç‡ªâ‡∫ú‡∫¥‡∫î‡∫û‡∫≤‡∫î‡ªÉ‡∫ô‡∫Å‡∫≤‡∫ô‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞:', error);
                
                let errorMessage = '‡∫ö‡ªç‡ªà‡∫™‡∫≤‡∫°‡∫≤‡∫î‡ªÄ‡∫ä‡∫∑‡ªà‡∫≠‡∫°‡∫ï‡ªç‡ªà‡∫Å‡∫±‡∫ö‡∫ï‡∫∞‡∫´‡∫º‡∫≤‡∫î‡ªÑ‡∫î‡ªâ. ';
                
                if (error.message.includes('CORS')) {
                    errorMessage += '‡∫ö‡∫±‡∫ô‡∫´‡∫≤ CORS. ‡∫Å‡∫∞‡∫•‡∫∏‡∫ô‡∫≤‡∫•‡∫≠‡∫á‡ªÉ‡ªù‡ªà‡∫û‡∫≤‡∫ç‡∫´‡∫º‡∫±‡∫á.';
                } else if (error.message.includes('All CORS proxies failed')) {
                    errorMessage += '‡∫ö‡ªç‡ªà‡∫™‡∫≤‡∫°‡∫≤‡∫î‡ªÄ‡∫ä‡∫∑‡ªà‡∫≠‡∫°‡∫ï‡ªç‡ªà‡∫ú‡ªà‡∫≤‡∫ô proxy ‡ªÑ‡∫î‡ªâ.';
                } else {
                    errorMessage += '‡∫Å‡∫∞‡∫•‡∫∏‡∫ô‡∫≤‡∫•‡∫≠‡∫á‡∫™‡∫¥‡∫ô‡∫ä‡∫±‡∫ö‡∫≠‡∫∑‡ªà‡∫ô ‡∫´‡∫º‡∫∑ timeframe ‡∫≠‡∫∑‡ªà‡∫ô.';
                }
                
                updateConnectionStatus('error', errorMessage);
                
                // ‡∫™‡∫∞‡ªÅ‡∫î‡∫á‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫ï‡∫ª‡∫ß‡∫¢‡ªà‡∫≤‡∫á‡ªÄ‡∫û‡∫∑‡ªà‡∫≠‡∫ó‡∫ª‡∫î‡∫™‡∫≠‡∫ö
                displaySampleData(symbol);
                
            } finally {
                isAnalyzing = false;
                btn.disabled = false;
                btn.innerText = '‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞‡∫î‡∫Ω‡∫ß‡∫ô‡∫µ‡ªâ';
            }
        }

        function performTechnicalAnalysis(prices, highs, lows, volumes, currentPrice, isMeme) {
            // ‡∫Ñ‡∫¥‡∫î‡ªÑ‡∫•‡ªà RSI
            const rsi = calculateRSI(prices);
            
            // ‡∫Ñ‡∫¥‡∫î‡ªÑ‡∫•‡ªà MACD
            const macd = calculateMACD(prices);
            
            // ‡∫Ñ‡∫¥‡∫î‡ªÑ‡∫•‡ªà Bollinger Bands
            const bb = calculateBollingerBands(prices);
            
            // ‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞ Volume
            const volumeAnalysis = analyzeVolume(volumes);
            
            // ‡∫Å‡∫≥‡∫ô‡∫ª‡∫î‡∫™‡∫±‡∫ô‡∫ç‡∫≤‡∫ô
            const signal = generateSignal(rsi, macd, bb, currentPrice, isMeme);
            
            // ‡∫Ñ‡∫¥‡∫î‡ªÑ‡∫•‡ªà‡∫Ñ‡∫ß‡∫≤‡∫°‡ªù‡∫±‡ªâ‡∫ô‡ªÉ‡∫à
            const confidence = calculateConfidence(rsi, macd, bb);
            
            // ‡∫Ñ‡∫¥‡∫î‡ªÑ‡∫•‡ªà trade plan
            const tradePlan = calculateTradePlanSignal(currentPrice, signal, bb, isMeme);
            
            return {
                rsi,
                macd,
                bb,
                volumeAnalysis,
                signal,
                confidence,
                tradePlan
            };
        }

        function calculateRSI(prices, period = 14) {
            if (prices.length < period) return { value: 50, signal: 'neutral' };
            
            let gains = 0;
            let losses = 0;
            
            for (let i = 1; i <= period; i++) {
                const diff = prices[prices.length - i] - prices[prices.length - i - 1];
                if (diff >= 0) {
                    gains += diff;
                } else {
                    losses -= diff;
                }
            }
            
            const avgGain = gains / period;
            const avgLoss = losses / period;
            
            if (avgLoss === 0) return { value: 100, signal: 'overbought' };
            
            const rs = avgGain / avgLoss;
            const rsi = 100 - (100 / (1 + rs));
            
            let signal = 'neutral';
            if (rsi < 30) signal = 'oversold';
            else if (rsi > 70) signal = 'overbought';
            
            return { value: rsi, signal };
        }

        function calculateMACD(prices) {
            if (prices.length < 26) return { value: 0, signal: 'neutral', histogram: 0 };
            
            // ‡∫Ñ‡∫¥‡∫î‡ªÑ‡∫•‡ªà EMA12 ‡ªÅ‡∫•‡∫∞ EMA26
            const ema12 = calculateEMA(prices, 12);
            const ema26 = calculateEMA(prices, 26);
            
            const macdLine = ema12 - ema26;
            
            // ‡∫Ñ‡∫¥‡∫î‡ªÑ‡∫•‡ªà Signal line (EMA9 ‡∫Ç‡∫≠‡∫á MACD)
            const macdValues = [];
            const recentPrices = prices.slice(-35); // ‡ªÄ‡∫Å‡∫±‡∫ö 35 ‡∫Ñ‡ªà‡∫≤‡∫™‡∫∏‡∫î‡∫ó‡ªâ‡∫≤‡∫ç
            for (let i = 0; i < recentPrices.length - 26; i++) {
                const slice = recentPrices.slice(i, i + 26);
                const ema12_slice = calculateEMA(slice, 12);
                const ema26_slice = calculateEMA(slice, 26);
                macdValues.push(ema12_slice - ema26_slice);
            }
            
            const signalLine = calculateEMA(macdValues.slice(-9), 9);
            const histogram = macdLine - signalLine;
            
            let signal = 'neutral';
            if (macdLine > 0 && histogram > 0) signal = 'bullish';
            else if (macdLine < 0 && histogram < 0) signal = 'bearish';
            
            return { 
                value: macdLine, 
                signal, 
                histogram,
                macdLine: macdLine,
                signalLine: signalLine
            };
        }

        function calculateEMA(prices, period) {
            if (prices.length < period) return prices[prices.length - 1] || 0;
            
            const k = 2 / (period + 1);
            let ema = prices[0];
            
            for (let i = 1; i < prices.length; i++) {
                ema = prices[i] * k + ema * (1 - k);
            }
            
            return ema;
        }

        function calculateBollingerBands(prices, period = 20, stdDev = 2) {
            if (prices.length < period) {
                return {
                    upper: prices[prices.length - 1] || 0,
                    middle: prices[prices.length - 1] || 0,
                    lower: prices[prices.length - 1] || 0,
                    position: 'neutral',
                    percentB: 50
                };
            }
            
            const slice = prices.slice(-period);
            const sum = slice.reduce((a, b) => a + b, 0);
            const mean = sum / period;
            
            const variance = slice.reduce((a, b) => a + Math.pow(b - mean, 2), 0) / period;
            const std = Math.sqrt(variance);
            
            const upper = mean + (std * stdDev);
            const lower = mean - (std * stdDev);
            const current = prices[prices.length - 1];
            const percentB = ((current - lower) / (upper - lower)) * 100;
            
            let position = 'neutral';
            if (percentB > 80) position = 'overbought';
            else if (percentB < 20) position = 'oversold';
            
            return {
                upper,
                middle: mean,
                lower,
                position,
                percentB
            };
        }

        function analyzeVolume(volumes) {
            if (volumes.length < 20) {
                return { ratio: 1, status: 'normal', signal: 'neutral' };
            }
            
            const currentVol = volumes[volumes.length - 1];
            const avgVol = volumes.slice(-20).reduce((a, b) => a + b, 0) / 20;
            const ratio = currentVol / avgVol;
            
            let status = 'normal';
            if (ratio > 1.5) status = 'high';
            else if (ratio < 0.5) status = 'low';
            
            let signal = 'neutral';
            if (ratio > 2) signal = 'very_bullish';
            else if (ratio > 1.5) signal = 'bullish';
            else if (ratio < 0.5) signal = 'bearish';
            
            return { ratio, status, signal };
        }

        function generateSignal(rsi, macd, bb, currentPrice, isMeme) {
            let score = 50;
            let reasons = [];
            
            // RSI scoring
            if (rsi.signal === 'oversold') {
                score += 20;
                reasons.push('RSI ‡∫ï‡∫≥‡ªÄ‡∫Å‡∫µ‡∫ô‡ªÑ‡∫õ');
            } else if (rsi.signal === 'overbought') {
                score -= 20;
                reasons.push('RSI ‡∫™‡∫π‡∫á‡ªÄ‡∫Å‡∫µ‡∫ô‡ªÑ‡∫õ');
            }
            
            // MACD scoring
            if (macd.signal === 'bullish') {
                score += 15;
                reasons.push('MACD ‡∫Ç‡∫≤‡∫Ç‡∫∂‡ªâ‡∫ô');
            } else if (macd.signal === 'bearish') {
                score -= 15;
                reasons.push('MACD ‡∫Ç‡∫≤‡∫•‡∫ª‡∫á');
            }
            
            // Bollinger Bands scoring
            if (bb.position === 'oversold') {
                score += 15;
                reasons.push('‡∫•‡∫≤‡∫Ñ‡∫≤‡∫¢‡∫π‡ªà‡ªÉ‡∫ô‡ªÄ‡∫Ç‡∫î oversold');
            } else if (bb.position === 'overbought') {
                score -= 15;
                reasons.push('‡∫•‡∫≤‡∫Ñ‡∫≤‡∫¢‡∫π‡ªà‡ªÉ‡∫ô‡ªÄ‡∫Ç‡∫î overbought');
            }
            
            // ‡∫õ‡∫±‡∫ö‡∫™‡∫≥‡∫•‡∫±‡∫ö meme coins
            if (isMeme) {
                score = Math.max(0, Math.min(100, score * 0.9));
                reasons.push('Meme coin - ‡∫Ñ‡∫ß‡∫≤‡∫°‡∫™‡ªà‡∫Ω‡∫á‡∫™‡∫π‡∫á');
            }
            
            score = Math.max(0, Math.min(100, score));
            
            // ‡∫Å‡∫≥‡∫ô‡∫ª‡∫î‡∫™‡∫±‡∫ô‡∫ç‡∫≤‡∫ô
            let signal;
            if (score >= 70) {
                signal = 'STRONG_BUY';
            } else if (score >= 60) {
                signal = 'BUY';
            } else if (score <= 30) {
                signal = 'STRONG_SELL';
            } else if (score <= 40) {
                signal = 'SELL';
            } else {
                signal = 'HOLD';
            }
            
            return {
                score,
                signal,
                reasons,
                description: getSignalDescription(signal, score, isMeme)
            };
        }

        function calculateConfidence(rsi, macd, bb) {
            let confidence = 50;
            
            // RSI confidence
            const rsiStrength = Math.abs(rsi.value - 50) / 50;
            confidence += rsiStrength * 25;
            
            // MACD confidence
            if (macd.signal !== 'neutral') confidence += 15;
            
            // BB confidence
            if (bb.position !== 'neutral') confidence += 10;
            
            confidence = Math.min(95, Math.max(5, confidence));
            
            let level;
            if (confidence > 80) level = '‡∫™‡∫π‡∫á‡∫´‡∫º‡∫≤‡∫ç';
            else if (confidence > 60) level = '‡∫™‡∫π‡∫á';
            else if (confidence > 40) level = '‡∫Å‡∫≤‡∫á';
            else level = '‡∫ï‡ªà‡∫≥';
            
            return {
                percentage: Math.round(confidence),
                level
            };
        }

        function calculateTradePlanSignal(currentPrice, signal, bb, isMeme) {
            const baseStopLoss = isMeme ? 0.10 : 0.05; // 10% ‡∫™‡∫≥‡∫•‡∫±‡∫ö meme, 5% ‡∫™‡∫≥‡∫•‡∫±‡∫ö‡∫õ‡∫ª‡∫Å‡∫Å‡∫∞‡∫ï‡∫¥
            const baseTakeProfit = isMeme ? 0.15 : 0.08; // 15% ‡∫™‡∫≥‡∫•‡∫±‡∫ö meme, 8% ‡∫™‡∫≥‡∫•‡∫±‡∫ö‡∫õ‡∫ª‡∫Å‡∫Å‡∫∞‡∫ï‡∫¥
            
            let entryPrice = currentPrice;
            let stopLoss, takeProfit;
            
            if (signal.signal.includes('BUY')) {
                stopLoss = currentPrice * (1 - baseStopLoss);
                takeProfit = currentPrice * (1 + baseTakeProfit);
            } else if (signal.signal.includes('SELL')) {
                stopLoss = currentPrice * (1 + baseStopLoss);
                takeProfit = currentPrice * (1 - baseTakeProfit);
            } else {
                // HOLD - ‡ªÉ‡∫ä‡ªâ Bollinger Bands ‡ªÄ‡∫õ‡∫±‡∫ô reference
                stopLoss = bb.lower;
                takeProfit = bb.upper;
            }
            
            const riskReward = Math.abs((takeProfit - currentPrice) / (stopLoss - currentPrice));
            
            // ‡∫Å‡∫≥‡∫ô‡∫ª‡∫î position size ‡∫ï‡∫≤‡∫°‡∫Ñ‡∫∞‡ªÅ‡∫ô‡∫ô signal
            let positionSize;
            if (signal.score >= 70) {
                positionSize = isMeme ? '3%' : '5%';
            } else if (signal.score >= 60) {
                positionSize = isMeme ? '2%' : '3%';
            } else if (signal.score <= 40) {
                positionSize = isMeme ? '1%' : '2%';
            } else {
                positionSize = '1%';
            }
            
            // ‡∫Å‡∫≥‡∫ô‡∫ª‡∫î‡ªÑ‡∫•‡∫ç‡∫∞‡ªÄ‡∫ß‡∫•‡∫≤‡∫ñ‡∫∑‡∫Ñ‡∫≠‡∫á
            let holdTime;
            if (isMeme) {
                holdTime = signal.score >= 70 ? '4-8 ‡∫ä‡∫ª‡ªà‡∫ß‡ªÇ‡∫°‡∫á' : 
                          signal.score >= 60 ? '2-6 ‡∫ä‡∫ª‡ªà‡∫ß‡ªÇ‡∫°‡∫á' : 
                          '‡∫•‡ªç‡∫ñ‡ªâ‡∫≤ (‡∫™‡∫±‡ªâ‡∫ô)';
            } else {
                holdTime = signal.score >= 70 ? '24-48 ‡∫ä‡∫ª‡ªà‡∫ß‡ªÇ‡∫°‡∫á' : 
                          signal.score >= 60 ? '12-24 ‡∫ä‡∫ª‡ªà‡∫ß‡ªÇ‡∫°‡∫á' : 
                          '‡∫•‡ªç‡∫ñ‡ªâ‡∫≤‡∫™‡∫±‡∫ô‡∫ç‡∫≤‡∫ô‡∫≠‡∫≠‡∫Å';
            }
            
            const profitPct = isMeme ? '15%' : '8%';
            
            return {
                entryPrice,
                stopLoss,
                takeProfit,
                riskReward: riskReward.toFixed(2),
                positionSize,
                holdTime,
                profitPct
            };
        }

        function getSignalDescription(signal, score, isMeme) {
            const memeWarning = isMeme ? '‚ö†Ô∏è ‡∫ô‡∫µ‡ªâ‡ªÅ‡∫°‡ªà‡∫ô MEME COIN: ‡∫Ñ‡∫ß‡∫≤‡∫°‡∫™‡ªà‡∫Ω‡∫á‡∫™‡∫π‡∫á! ' : '';
            
            switch(signal) {
                case 'STRONG_BUY':
                    return memeWarning + `‡∫™‡∫±‡∫ô‡∫ç‡∫≤‡∫ô‡∫ä‡∫∑‡ªâ‡ªÅ‡∫Æ‡∫á (${score}/100): ‡ªÇ‡∫≠‡∫Å‡∫≤‡∫î‡∫î‡∫µ‡∫™‡∫∏‡∫î, ‡ªÅ‡∫Æ‡∫á‡∫ä‡∫∑‡ªâ‡∫™‡∫π‡∫á`;
                case 'BUY':
                    return memeWarning + `‡∫™‡∫±‡∫ô‡∫ç‡∫≤‡∫ô‡∫ä‡∫∑‡ªâ (${score}/100): ‡ªÇ‡∫≠‡∫Å‡∫≤‡∫î‡∫î‡∫µ, ‡∫°‡∫µ‡ªÅ‡∫Æ‡∫á‡∫ä‡∫∑‡ªâ`;
                case 'HOLD':
                    return `‡∫•‡ªç‡∫ñ‡ªâ‡∫≤ (${score}/100): ‡∫ï‡∫∞‡∫´‡∫º‡∫≤‡∫î‡∫ç‡∫±‡∫á‡∫ö‡ªç‡ªà‡∫ä‡∫±‡∫î‡ªÄ‡∫à‡∫ô, ‡∫•‡ªç‡∫ñ‡ªâ‡∫≤‡∫™‡∫±‡∫ô‡∫ç‡∫≤‡∫ô‡∫î‡∫µ‡∫Å‡∫ß‡ªà‡∫≤`;
                case 'SELL':
                    return memeWarning + `‡∫™‡∫±‡∫ô‡∫ç‡∫≤‡∫ô‡∫Ç‡∫≤‡∫ç (${score}/100): ‡∫°‡∫µ‡ªÅ‡∫Æ‡∫á‡∫Ç‡∫≤‡∫ç, ‡∫•‡∫∞‡∫ß‡∫±‡∫á`;
                case 'STRONG_SELL':
                    return memeWarning + `‡∫™‡∫±‡∫ô‡∫ç‡∫≤‡∫ô‡∫Ç‡∫≤‡∫ç‡ªÅ‡∫Æ‡∫á (${score}/100): ‡∫Ñ‡∫ß‡∫≤‡∫°‡∫™‡ªà‡∫Ω‡∫á‡∫™‡∫π‡∫á, ‡∫Ñ‡∫ß‡∫ô‡∫≠‡∫≠‡∫Å‡∫ï‡∫≥‡ªÅ‡ªú‡ªà‡∫á`;
                default:
                    return '‡∫Å‡∫≥‡∫•‡∫±‡∫á‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞...';
            }
        }

        function updateUI(analysis, currentPrice, timestamps, symbol, isMeme) {
            // ‡∫≠‡∫±‡∫ö‡ªÄ‡∫î‡∫î‡∫•‡∫≤‡∫Ñ‡∫≤
            const priceEl = document.getElementById('priceLabel');
            const priceChangeEl = document.getElementById('priceChange24h');
            
            let priceText;
            if (currentPrice < 0.01) {
                priceText = currentPrice.toFixed(8);
            } else if (currentPrice < 1) {
                priceText = currentPrice.toFixed(6);
            } else if (currentPrice < 1000) {
                priceText = currentPrice.toFixed(4);
            } else {
                priceText = currentPrice.toFixed(2);
            }
            
            priceEl.textContent = '$' + priceText;
            
            // ‡∫Ñ‡∫¥‡∫î‡ªÑ‡∫•‡ªà % ‡∫Å‡∫≤‡∫ô‡∫õ‡ªà‡∫Ω‡∫ô‡ªÅ‡∫õ‡∫á
            if (lastPrice > 0) {
                const changePercent = ((currentPrice - lastPrice) / lastPrice) * 100;
                priceChangeEl.textContent = `(${changePercent >= 0 ? '+' : ''}${changePercent.toFixed(2)}%)`;
                priceChangeEl.className = changePercent >= 0 ? 
                    'text-sm font-bold text-green-400' : 'text-sm font-bold text-red-400';
                
                // Animation
                priceEl.classList.remove('price-up', 'price-down');
                void priceEl.offsetWidth; // Trigger reflow
                priceEl.classList.add(changePercent >= 0 ? 'price-up' : 'price-down');
            }
            
            // ‡∫≠‡∫±‡∫ö‡ªÄ‡∫î‡∫î indicators
            document.getElementById('rsiVal').textContent = analysis.rsi.value.toFixed(1);
            document.getElementById('rsiSignal').textContent = analysis.rsi.signal;
            document.getElementById('rsiSignal').className = `text-[8px] mt-1 ${
                analysis.rsi.signal === 'oversold' ? 'text-green-400' : 
                analysis.rsi.signal === 'overbought' ? 'text-red-400' : 'text-yellow-400'
            }`;
            
            document.getElementById('macdEnergy').textContent = analysis.macd.value.toFixed(4);
            document.getElementById('macdSignal').textContent = analysis.macd.signal;
            document.getElementById('macdSignal').className = `text-[8px] mt-1 ${
                analysis.macd.signal === 'bullish' ? 'text-green-400' : 
                analysis.macd.signal === 'bearish' ? 'text-red-400' : 'text-yellow-400'
            }`;
            
            document.getElementById('adxPower').textContent = '25';
            document.getElementById('adxSignal').textContent = 'medium';
            document.getElementById('adxSignal').className = 'text-[8px] mt-1 text-yellow-400';
            
            document.getElementById('bbSignal').textContent = analysis.bb.percentB.toFixed(0) + '%';
            document.getElementById('bbPosition').textContent = analysis.bb.position;
            document.getElementById('bbPosition').className = `text-[8px] mt-1 ${
                analysis.bb.position === 'oversold' ? 'text-green-400' : 
                analysis.bb.position === 'overbought' ? 'text-red-400' : 'text-yellow-400'
            }`;
            
            document.getElementById('volumeSignal').textContent = analysis.volumeAnalysis.ratio.toFixed(1) + 'x';
            document.getElementById('volumeStatus').textContent = analysis.volumeAnalysis.status;
            document.getElementById('volumeStatus').className = `text-[8px] mt-1 ${
                analysis.volumeAnalysis.status === 'high' ? 'text-green-400' : 
                analysis.volumeAnalysis.status === 'low' ? 'text-red-400' : 'text-yellow-400'
            }`;
            
            document.getElementById('orderFlow').textContent = '55%';
            document.getElementById('flowDirection').textContent = 'bullish';
            document.getElementById('flowDirection').className = 'text-[8px] mt-1 text-green-400';
            
            // ‡∫≠‡∫±‡∫ö‡ªÄ‡∫î‡∫î‡∫™‡∫±‡∫ô‡∫ç‡∫≤‡∫ô‡∫´‡∫º‡∫±‡∫Å
            const signal = analysis.signal;
            const signalEl = document.getElementById('signalDisplay');
            const card = document.getElementById('signalCard');
            const reasoning = document.getElementById('reasoning');
            const compositeScore = document.getElementById('compositeScore');
            const compositeBar = document.getElementById('compositeBar');
            
            compositeScore.textContent = `${signal.score}/100`;
            compositeBar.style.width = `${signal.score}%`;
            
            let signalText, cardClass, textClass;
            
            switch(signal.signal) {
                case 'STRONG_BUY':
                    signalText = isMeme ? '‡∫ä‡∫∑‡ªâ MEME üî•' : '‡∫ä‡∫∑‡ªâ‡ªÅ‡∫Æ‡∫á üî•';
                    cardClass = "lg:col-span-5 glass-card rounded-3xl p-8 border-t-4 border-green-500 buy-glow";
                    textClass = "text-5xl font-black mb-2 text-green-500 animate-pulse";
                    break;
                case 'BUY':
                    signalText = isMeme ? '‡∫ä‡∫∑‡ªâ MEME ‚úÖ' : '‡∫ä‡∫∑‡ªâ ‚úÖ';
                    cardClass = "lg:col-span-5 glass-card rounded-3xl p-8 border-t-4 border-green-400";
                    textClass = "text-5xl font-black mb-2 text-green-400";
                    break;
                case 'SELL':
                    signalText = isMeme ? '‡∫Ç‡∫≤‡∫ç MEME ‚ö†Ô∏è' : '‡∫Ç‡∫≤‡∫ç ‚ö†Ô∏è';
                    cardClass = "lg:col-span-5 glass-card rounded-3xl p-8 border-t-4 border-orange-500";
                    textClass = "text-5xl font-black mb-2 text-orange-500";
                    break;
                case 'STRONG_SELL':
                    signalText = isMeme ? '‡∫Ç‡∫≤‡∫ç MEME üö®' : '‡∫Ç‡∫≤‡∫ç‡ªÅ‡∫Æ‡∫á üö®';
                    cardClass = "lg:col-span-5 glass-card rounded-3xl p-8 border-t-4 border-red-500 sell-glow";
                    textClass = "text-5xl font-black mb-2 text-red-500 animate-pulse";
                    break;
                default:
                    signalText = isMeme ? '‡∫•‡ªç‡∫ñ‡ªâ‡∫≤ MEME ‚è≥' : '‡∫•‡ªç‡∫ñ‡ªâ‡∫≤ ‚è≥';
                    cardClass = "lg:col-span-5 glass-card rounded-3xl p-8 border-t-4 border-slate-700";
                    textClass = "text-5xl font-black mb-2 text-slate-500";
            }
            
            signalEl.textContent = signalText;
            signalEl.className = textClass;
            card.className = cardClass;
            
            // ‡∫≠‡∫±‡∫ö‡ªÄ‡∫î‡∫î reasoning ‡ªÅ‡∫•‡∫∞ confidence
            reasoning.textContent = signal.description;
            document.getElementById('confidenceScore').textContent = 
                `‡∫Ñ‡∫ß‡∫≤‡∫°‡ªù‡∫±‡ªâ‡∫ô‡ªÉ‡∫à: ${analysis.confidence.percentage}% (${analysis.confidence.level})`;
            document.getElementById('accuracyBadge').textContent = '‡∫Ñ‡∫ß‡∫≤‡∫°‡ªÅ‡∫°‡ªà‡∫ô‡∫ç‡∫≥: 82%';
            
            // ‡∫≠‡∫±‡∫ö‡ªÄ‡∫î‡∫î trade plan
            const plan = analysis.tradePlan;
            
            document.getElementById('entryPrice').textContent = '$' + plan.entryPrice.toFixed(4);
            document.getElementById('stopPrice').textContent = '$' + plan.stopLoss.toFixed(4);
            document.getElementById('targetPrice').textContent = '$' + plan.takeProfit.toFixed(4);
            document.getElementById('profitPct').textContent = '+' + plan.profitPct;
            document.getElementById('riskReward').textContent = `Risk/Reward: ${plan.riskReward}`;
            document.getElementById('holdTime').textContent = plan.holdTime;
            document.getElementById('positionSizeDisplay').textContent = plan.positionSize;
            
            // ‡∫≠‡∫±‡∫ö‡ªÄ‡∫î‡∫î multi-timeframe analysis
            document.getElementById('tfShort').textContent = '‚Üë';
            document.getElementById('tfMedium').textContent = signal.score >= 60 ? '‚Üë' : '‚Üí';
            document.getElementById('tfLong').textContent = '‚Üí';
            document.getElementById('trendAlignment').textContent = signal.score >= 70 ? '‡∫û‡ªâ‡∫≠‡∫á‡∫Å‡∫±‡∫ô' : '‡∫û‡∫≤‡∫Å‡∫™‡ªà‡∫ß‡∫ô';
            document.getElementById('trendAlignment').className = 
                `text-[10px] px-2 py-0.5 rounded ${signal.score >= 70 ? 
                'bg-green-500/20 text-green-300' : 'bg-yellow-500/20 text-yellow-300'}`;
            
            // ‡∫≠‡∫±‡∫ö‡ªÄ‡∫î‡∫î expert advice
            const riskLevel = document.getElementById('riskLevel').value;
            const riskText = riskLevel === 'low' ? '‡∫ï‡ªà‡∫≥' : 
                            riskLevel === 'medium' ? '‡∫Å‡∫≤‡∫á' : '‡∫™‡∫π‡∫á';
            
            let advice = '';
            if (isMeme) {
                advice += `<strong>‚ö†Ô∏è ‡∫Ñ‡∫≥‡ªÄ‡∫ï‡∫∑‡∫≠‡∫ô MEME COIN:</strong> ‡∫Ñ‡∫ß‡∫≤‡∫°‡∫™‡ªà‡∫Ω‡∫á‡∫™‡∫π‡∫á‡∫´‡∫º‡∫≤‡∫ç!<br>`;
            }
            
            if (signal.signal.includes('BUY')) {
                advice += `<strong>‡ªÅ‡∫ô‡∫∞‡∫ô‡∫≥:</strong> ‡ªÄ‡∫Ç‡∫ª‡ªâ‡∫≤‡∫ï‡∫≥‡ªÅ‡ªú‡ªà‡∫á‡∫î‡ªâ‡∫ß‡∫ç ${plan.positionSize} ‡∫Ç‡∫≠‡∫á portfolio.<br>`;
                advice += `<strong>‡∫ç‡∫∏‡∫î‡∫ó‡∫∞‡∫™‡∫≤‡∫î:</strong> ${isMeme ? '60% @ 8%, 40% @ 15%' : '50% @ 3%, 30% @ 5%, 20% @ 8%'}`;
            } else if (signal.signal.includes('SELL')) {
                advice += `<strong>‡ªÅ‡∫ô‡∫∞‡∫ô‡∫≥:</strong> ‡∫û‡∫¥‡∫à‡∫≤‡∫•‡∫∞‡∫ô‡∫≤‡∫Å‡∫≤‡∫ô‡∫≠‡∫≠‡∫Å‡∫à‡∫≤‡∫Å‡∫ï‡∫≥‡ªÅ‡ªú‡ªà‡∫á.<br>`;
                advice += `<strong>‡∫Ñ‡∫ß‡∫≤‡∫°‡∫™‡ªà‡∫Ω‡∫á:</strong> ‡∫ï‡∫∞‡∫´‡∫º‡∫≤‡∫î‡∫°‡∫µ‡ªÅ‡∫ô‡∫ß‡ªÇ‡∫ô‡ªâ‡∫°‡∫Ç‡∫≤‡∫•‡∫ª‡∫á`;
            } else {
                advice += `<strong>‡ªÅ‡∫ô‡∫∞‡∫ô‡∫≥:</strong> ‡∫ñ‡∫∑‡ªÄ‡∫á‡∫¥‡∫ô‡∫™‡∫ª‡∫î‡∫•‡ªç‡∫ñ‡ªâ‡∫≤.<br>`;
                advice += `<strong>‡∫Å‡∫≤‡∫ô‡∫•‡ªç‡∫ñ‡ªâ‡∫≤:</strong> ‡∫ï‡∫∞‡∫´‡∫º‡∫≤‡∫î‡∫ç‡∫±‡∫á‡∫ö‡ªç‡ªà‡∫°‡∫µ‡∫ó‡∫¥‡∫î‡∫ó‡∫≤‡∫á‡∫ä‡∫±‡∫î‡ªÄ‡∫à‡∫ô`;
            }
            
            advice += `<br><strong>‡∫•‡∫∞‡∫î‡∫±‡∫ö‡∫Ñ‡∫ß‡∫≤‡∫°‡∫™‡ªà‡∫Ω‡∫á:</strong> ${riskText}`;
            
            document.getElementById('adviceText').innerHTML = advice;
            
            // ‡∫≠‡∫±‡∫ö‡ªÄ‡∫î‡∫î trend badge
            const trendBadge = document.getElementById('trendBadge');
            trendBadge.textContent = isMeme ? 'MEME: ‡∫Ç‡∫≤‡∫Ç‡∫∂‡ªâ‡∫ô ‚ÜóÔ∏è' : '‡ªÅ‡∫ô‡∫ß‡ªÇ‡∫ô‡ªâ‡∫°: ‡∫Ç‡∫≤‡∫Ç‡∫∂‡ªâ‡∫ô ‚ÜóÔ∏è';
            trendBadge.className = 
                "px-3 py-1 rounded-full text-[10px] font-black bg-green-500/10 text-green-400 border border-green-500/30 mb-1";
            
            // ‡∫≠‡∫±‡∫ö‡ªÄ‡∫î‡∫î signal quality
            document.getElementById('signalQuality').textContent = 
                signal.score >= 70 ? '‡∫î‡∫µ' : signal.score >= 50 ? '‡∫Å‡∫≤‡∫á' : '‡∫ï‡ªà‡∫≥';
            document.getElementById('signalQuality').className = 
                signal.score >= 70 ? 'text-green-400' : 
                signal.score >= 50 ? 'text-yellow-400' : 'text-red-400';
            
            // ‡∫≠‡∫±‡∫ö‡ªÄ‡∫î‡∫î statistics
            document.getElementById('winRate').textContent = '82%';
            document.getElementById('riskRewardStats').textContent = '1:2.5';
            document.getElementById('overallAccuracy').textContent = '82%';
            
            // ‡∫™‡ªâ‡∫≤‡∫á charts
            createCharts(timestamps, currentPrice, analysis, symbol);
        }

        function createCharts(timestamps, currentPrice, analysis, symbol) {
            // ‡ªÄ‡∫ä‡∫∑‡ªà‡∫≠‡∫á placeholder
            document.getElementById('chartPlaceholder').classList.add('hidden');
            document.getElementById('indicatorPlaceholder').classList.add('hidden');
            
            // ‡∫™‡∫∞‡ªÅ‡∫î‡∫á charts
            document.getElementById('mainChart').classList.remove('hidden');
            document.getElementById('indicatorChart').classList.remove('hidden');
            
            // Main Price Chart
            const ctx = document.getElementById('mainChart').getContext('2d');
            if (chartInstance) chartInstance.destroy();
            
            // ‡∫™‡ªâ‡∫≤‡∫á‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫ï‡∫ª‡∫ß‡∫¢‡ªà‡∫≤‡∫á‡∫à‡∫≤‡∫Å analysis
            const prices = [];
            const basePrice = currentPrice;
            for (let i = 0; i < 50; i++) {
                // ‡∫™‡ªâ‡∫≤‡∫á‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫õ‡∫∞‡∫´‡∫ß‡∫±‡∫î‡∫à‡∫≤‡∫Å‡∫•‡∫≤‡∫Ñ‡∫≤‡∫õ‡∫±‡∫î‡∫à‡∫∏‡∫ö‡∫±‡∫ô
                const variation = Math.sin(i / 10) * (basePrice * 0.02);
                prices.push(basePrice + variation);
            }
            
            const labels = [];
            for (let i = 49; i >= 0; i--) {
                const minutesAgo = i * 5;
                const time = new Date(Date.now() - minutesAgo * 60000);
                labels.push(time.getHours().toString().padStart(2, '0') + ':' + 
                           time.getMinutes().toString().padStart(2, '0'));
            }
            
            // ‡∫™‡ªâ‡∫≤‡∫á gradient
            const gradient = ctx.createLinearGradient(0, 0, 0, 400);
            gradient.addColorStop(0, 'rgba(234, 179, 8, 0.3)');
            gradient.addColorStop(1, 'rgba(234, 179, 8, 0.05)');
            
            chartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: symbol,
                        data: prices,
                        borderColor: '#eab308',
                        backgroundColor: gradient,
                        borderWidth: 3,
                        pointRadius: 0,
                        tension: 0.1,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false
                        }
                    },
                    scales: {
                        x: {
                            display: true,
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#64748b',
                                maxTicksLimit: 8,
                                font: {
                                    size: 9
                                }
                            }
                        },
                        y: {
                            display: true,
                            position: 'right',
                            grid: {
                                color: 'rgba(255, 255, 255, 0.05)'
                            },
                            ticks: {
                                color: '#64748b',
                                font: {
                                    size: 9
                                },
                                callback: function(value) {
                                    if (value >= 1000) return '$' + (value/1000).toFixed(1) + 'k';
                                    return '$' + value.toFixed(2);
                                }
                            }
                        }
                    }
                }
            });
            
            // Indicator Chart
            const indCtx = document.getElementById('indicatorChart').getContext('2d');
            if (indicatorChart) indicatorChart.destroy();
            
            // ‡∫™‡ªâ‡∫≤‡∫á‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô indicator ‡∫ï‡∫ª‡∫ß‡∫¢‡ªà‡∫≤‡∫á
            const rsiData = [];
            const macdData = [];
            for (let i = 0; i < 50; i++) {
                rsiData.push(50 + Math.sin(i / 5) * 20);
                macdData.push(Math.sin(i / 3) * 0.01);
            }
            
            indicatorChart = new Chart(indCtx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'RSI',
                            data: rsiData,
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            borderWidth: 2,
                            pointRadius: 0,
                            tension: 0.1,
                            yAxisID: 'y'
                        },
                        {
                            label: 'MACD',
                            data: macdData,
                            borderColor: '#8b5cf6',
                            backgroundColor: 'rgba(139, 92, 246, 0.1)',
                            borderWidth: 2,
                            pointRadius: 0,
                            tension: 0.1,
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: {
                                color: '#94a3b8',
                                font: {
                                    size: 9
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            display: false
                        },
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            min: 0,
                            max: 100,
                            grid: {
                                color: 'rgba(255, 255, 255, 0.05)'
                            },
                            ticks: {
                                color: '#10b981',
                                font: {
                                    size: 8
                                }
                            }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            grid: {
                                drawOnChartArea: false
                            },
                            ticks: {
                                color: '#8b5cf6',
                                font: {
                                    size: 8
                                }
                            }
                        }
                    }
                }
            });
        }

        function displaySampleData(symbol) {
            // ‡∫™‡∫∞‡ªÅ‡∫î‡∫á‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫ï‡∫ª‡∫ß‡∫¢‡ªà‡∫≤‡∫á‡ªÄ‡∫û‡∫∑‡ªà‡∫≠‡∫ó‡∫ª‡∫î‡∫™‡∫≠‡∫ö
            const currentPrice = Math.random() * 1000 + 1;
            const isMeme = memeCoins.includes(symbol);
            
            // ‡∫™‡ªâ‡∫≤‡∫á‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫ï‡∫ª‡∫ß‡∫¢‡ªà‡∫≤‡∫á
            const sampleAnalysis = {
                rsi: { value: 45 + Math.random() * 30, signal: Math.random() > 0.5 ? 'neutral' : 'oversold' },
                macd: { value: (Math.random() - 0.5) * 0.02, signal: Math.random() > 0.5 ? 'bullish' : 'bearish', histogram: 0 },
                bb: { percentB: Math.random() * 100, position: Math.random() > 0.5 ? 'neutral' : 'oversold' },
                volumeAnalysis: { ratio: 1 + Math.random(), status: 'normal', signal: 'neutral' },
                signal: {
                    score: 40 + Math.random() * 40,
                    signal: Math.random() > 0.6 ? 'BUY' : Math.random() > 0.3 ? 'HOLD' : 'SELL',
                    description: '‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫ï‡∫ª‡∫ß‡∫¢‡ªà‡∫≤‡∫á - ‡∫Å‡∫∞‡∫•‡∫∏‡∫ô‡∫≤‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö‡ªÄ‡∫ä‡∫∑‡ªà‡∫≠‡∫°‡∫ï‡ªç‡ªà'
                },
                confidence: { percentage: 50 + Math.random() * 30, level: '‡∫Å‡∫≤‡∫á' },
                tradePlan: {
                    entryPrice: currentPrice,
                    stopLoss: currentPrice * 0.95,
                    takeProfit: currentPrice * 1.05,
                    riskReward: '1.5',
                    positionSize: '2%',
                    holdTime: '12-24 ‡∫ä‡∫ª‡ªà‡∫ß‡ªÇ‡∫°‡∫á',
                    profitPct: '5%'
                }
            };
            
            // ‡∫™‡ªâ‡∫≤‡∫á timestamps ‡∫ï‡∫ª‡∫ß‡∫¢‡ªà‡∫≤‡∫á
            const sampleTimestamps = [];
            for (let i = 0; i < 50; i++) {
                const time = new Date(Date.now() - (49 - i) * 5 * 60000);
                sampleTimestamps.push(
                    time.getHours().toString().padStart(2, '0') + ':' +
                    time.getMinutes().toString().padStart(2, '0')
                );
            }
            
            // ‡∫≠‡∫±‡∫ö‡ªÄ‡∫î‡∫î UI ‡∫î‡ªâ‡∫ß‡∫ç‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫ï‡∫ª‡∫ß‡∫¢‡ªà‡∫≤‡∫á
            updateUI(sampleAnalysis, currentPrice, sampleTimestamps, symbol, isMeme);
        }

        // ‡ªÄ‡∫•‡∫µ‡ªà‡∫°‡∫ï‡∫ª‡ªâ‡∫ô‡ªÇ‡∫õ‡∫£‡ªÅ‡∫Å‡∫£‡∫°
        window.onload = function() {
            updateConnectionStatus('ready', '‡∫Å‡∫ª‡∫î‡∫õ‡∫∏‡ªà‡∫° "‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞‡∫î‡∫Ω‡∫ß‡∫ô‡∫µ‡ªâ" ‡ªÄ‡∫û‡∫∑‡ªà‡∫≠‡ªÄ‡∫•‡∫µ‡ªà‡∫°‡∫ï‡∫ª‡ªâ‡∫ô‡∫Å‡∫≤‡∫ô‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞');
            
            // ‡ªÄ‡∫û‡∫µ‡ªà‡∫° event listeners
            document.getElementById('refreshInterval').addEventListener('change', startAutoRefresh);
            
            // ‡ªÄ‡∫•‡∫∑‡∫≠‡∫Å‡ªÅ‡∫•‡∫∞‡∫ß‡∫¥‡ªÄ‡∫Ñ‡∫≤‡∫∞‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫ó‡∫±‡∫ô‡∫ó‡∫µ
            setTimeout(() => {
                analyzeData();
            }, 1000);
        };
    </script>
</body>
</html>